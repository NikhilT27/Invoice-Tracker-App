(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),i=c.n(a),s=c(35),r=c.n(s),o=(c(43),c.p,c(44),c(14)),l=c(7),d=c(6),j=c.n(d),m=c(15),u=c(4),b=c(3),v=c.n(b),O=c(5),h=c(2),x=c.n(h),f=c(16);function p(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),c=t[0],i=(t[1],Object(l.f)()),s=Object(f.a)(),r=s.register,o=s.handleSubmit,d=(s.watch,s.errors),m=function(){var e=Object(O.a)(v.a.mark((function e(t){var c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return console.log(t),c=localStorage.getItem("authToken"),e.next=5,j.a.post("/invoice/createInvoice",t,{headers:{Authorization:"Bearer ".concat(c)}});case 5:(n=e.sent)&&(console.log(n),i.go(0));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"create-invoice",children:Object(n.jsxs)("div",{className:"login-form",children:[Object(n.jsx)("div",{className:"title",children:"Add Invoice"}),Object(n.jsxs)("form",{onSubmit:o(m),children:[Object(n.jsxs)("div",{className:"login-form-element",children:[Object(n.jsx)("label",{children:"Name"}),Object(n.jsx)("input",{name:"name",ref:r({required:!0})}),d.name&&"required"===d.name.type&&Object(n.jsx)("div",{className:"form-error",children:"*Name is required"})]}),Object(n.jsxs)("div",{className:"login-form-element",children:[Object(n.jsx)("label",{children:"Amount"}),Object(n.jsx)("input",{name:"amount",type:"number",ref:r({required:!0})}),d.amount&&"required"===d.amount.type&&Object(n.jsx)("div",{className:"form-error",children:"*Amount is required"})]}),Object(n.jsxs)("div",{className:"login-form-element",children:[Object(n.jsx)("label",{children:"Image"}),Object(n.jsx)("input",{name:"imageFile",ref:r({required:!0})}),d.imageFile&&"required"===d.imageFile.type&&Object(n.jsx)("div",{className:"form-error",children:"*Image is required"})]}),Object(n.jsx)("div",{className:"login-form-element",children:Object(n.jsx)("div",{className:"form-error",children:c})}),Object(n.jsx)("div",{className:"submit-button",children:Object(n.jsx)("button",{className:"button-style",type:"submit",children:"Create"})})]})]})})}function N(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],i=t[1],s=Object(a.useState)(x()("2000-01-01").format("YYYY-MM-DD")),r=Object(u.a)(s,2),o=r[0],l=r[1],d=Object(a.useState)(x()().format("YYYY-MM-DD")),m=Object(u.a)(d,2),b=m[0],h=m[1],f=Object(a.useState)(!1),N=Object(u.a)(f,2),g=N[0],Y=N[1];function D(){return(D=Object(O.a)(v.a.mark((function e(){var t,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=localStorage.getItem("authToken"))&&console.log("token"),e.next=4,j.a.post("/invoice/viewInvoice",{},{headers:{Authorization:"Bearer ".concat(t)}});case 4:(c=e.sent)&&(i(c.data),console.log(c.data));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){!function(){D.apply(this,arguments)}()}),[]);console.log(b),console.log(o),x()("2016-10-30").isBetween(o,b)&&console.log("working");var I=0;return Object(n.jsxs)("div",{children:[g?Object(n.jsx)(p,{}):Object(n.jsxs)("div",{className:"invoice-box",children:[Object(n.jsx)("div",{className:"invoice-titles",children:"APPROVED INVOICES"}),Object(n.jsxs)("div",{className:"home-number-invoices",children:[Object(n.jsx)("div",{children:"Total number of invoices: ".concat(c.length>0?c.filter((function(e){return"APPROVED"===e.status&&x()(e.date).isBetween(o,x()(b).add(1,"d").format("YYYY-MM-DD"),void 0,"[]")})).length:0)}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"Filter"}),Object(n.jsxs)("div",{className:"filter-to-from",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"From: "}),Object(n.jsx)("input",{type:"date",id:"start",name:"trip-start",value:o,min:"2000-01-01",max:x()().format("YYYY-MM-DD"),onChange:function(e){return l(e.target.value)}})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"To: "}),Object(n.jsx)("input",{type:"date",id:"start",name:"trip-start",value:b,min:"2000-01-01",max:x()().format("YYYY-MM-DD"),onChange:function(e){return h(e.target.value)}})]})]})]})]}),Object(n.jsxs)("div",{className:"home-all-invoice default-title",children:[Object(n.jsx)("div",{className:"invoice-name",children:"Invoice Name"}),Object(n.jsx)("div",{className:"invoice-date",children:"Invoice Date"}),Object(n.jsx)("div",{className:"invoice-amount",children:"Invoice Amount"})]}),c.length>0?c.map((function(e){if("APPROVED"===e.status&&x()(e.date).isBetween(o,x()(b).add(1,"d").format("YYYY-MM-DD"),void 0,"[]"))return Object(n.jsxs)("div",{onClick:function(){console.log("clicked ".concat(e._id))},className:"home-all-invoice",children:[Object(n.jsx)("div",{className:"invoice-name",children:e.name}),Object(n.jsx)("div",{className:"invoice-date",children:x()(e.date).format("DD-MM-YY")}),Object(n.jsx)("div",{className:"invoice-amount",children:e.amount}),(t=e.amount,void(t&&(I+=Number(t))))]},e._id);var t})):Object(n.jsx)("div",{}),Object(n.jsxs)("div",{className:"home-all-invoice default-footer",children:[Object(n.jsx)("div",{children:"Total Amount"}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{children:I})]})]}),Object(n.jsx)("div",{className:"float-add-button",onClick:function(){return Y(!g)},children:g?"Cancel":"Add"})]})}c(69);function g(e){var t=e.invoiceID,c=Object(f.a)(),a=c.register,i=c.handleSubmit,s=(c.watch,c.errors),r=Object(l.f)(),o=function(){var e=Object(O.a)(v.a.mark((function e(c){var n,a,i,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(c),c=={}){e.next=11;break}for(a in n={},c)""!=c[a]&&(n[a]=c[a]);return console.log(n),console.log({invoiceID:t,updateObj:n}),i=localStorage.getItem("authToken"),e.next=9,j.a.post("/invoice/updateInvoice",{invoiceID:t,updateObj:n},{headers:{Authorization:"Bearer ".concat(i)}});case 9:(s=e.sent)&&(console.log(s),r.go(0));case 11:console.log(t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(O.a)(v.a.mark((function e(){var c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=localStorage.getItem("authToken"),e.next=3,j.a.post("/invoice/deleteInvoice",{invoiceID:t},{headers:{Authorization:"Bearer ".concat(c)}});case 3:(n=e.sent)&&(console.log(n),r.go(0)),console.log("delete");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"invoice-option-box",children:Object(n.jsxs)("div",{className:"option-sub-box ",children:[Object(n.jsxs)("div",{className:"login-form option-size",children:[Object(n.jsx)("div",{className:"title ",children:"Update"}),Object(n.jsxs)("form",{onSubmit:i(o),children:[Object(n.jsx)("div",{className:"login-form-element",children:Object(n.jsx)("label",{children:"*Only enter data that need to be changed"})}),Object(n.jsxs)("div",{className:"login-form-element",children:[Object(n.jsx)("label",{className:"",children:"Name"}),Object(n.jsx)("input",{name:"name",ref:a({validate:function(e){return"string"===typeof e}})}),s.name&&"validate"===s.name.type&&Object(n.jsx)("div",{className:"form-error signup-error",children:"*name must be string"})]}),Object(n.jsxs)("div",{className:"login-form-element",children:[Object(n.jsx)("label",{className:"",children:"Amount"}),Object(n.jsx)("input",{type:"number",name:"amount",ref:a({})})]}),Object(n.jsxs)("div",{className:"login-form-element",children:[Object(n.jsx)("label",{className:"",children:"Image"}),Object(n.jsx)("input",{name:"image",ref:a({})})]}),Object(n.jsx)("div",{className:"login-form-element",children:Object(n.jsx)("div",{className:"option-buttons-box",children:Object(n.jsx)("div",{className:"submit-button ",children:Object(n.jsx)("button",{className:"button-style",type:"submit",children:"Update"})})})})]})]}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{className:"delete-invoice button-style botton-style-dark",onClick:function(){return d()},children:"Delete"})})]})})}function Y(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],i=t[1],s=Object(a.useState)(x()("2000-01-01").format("YYYY-MM-DD")),r=Object(u.a)(s,2),o=r[0],l=r[1],d=Object(a.useState)(x()().format("YYYY-MM-DD")),m=Object(u.a)(d,2),b=m[0],h=m[1],f=Object(a.useState)(""),p=Object(u.a)(f,2),N=p[0],Y=p[1];function D(){return(D=Object(O.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=localStorage.getItem("authToken"))&&console.log("token"),e.next=4,j.a.post("/invoice/viewInvoice",{},{headers:{Authorization:"Bearer ".concat(t)}});case 4:(n=e.sent)&&(i(n.data),console.log(c));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){!function(){D.apply(this,arguments)}()}),[]),console.log(x()(b).add(1,"d").format("YYYY-MM-DD"));var I=0;return Object(n.jsxs)("div",{className:"invoice-box",children:[Object(n.jsx)("div",{className:"invoice-titles",children:"PENDING INVOICES"}),Object(n.jsxs)("div",{className:"home-number-invoices",children:[Object(n.jsx)("div",{children:"Total number of invoices: ".concat(c.length>0?c.filter((function(e){return"PENDING"===e.status&&x()(e.date).isBetween(o,x()(b).add(1,"d").format("YYYY-MM-DD"),void 0,"[]")})).length:0)}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"Filter"}),Object(n.jsxs)("div",{className:"filter-to-from",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"From: "}),Object(n.jsx)("input",{type:"date",id:"start",name:"trip-start",value:o,min:"2000-01-01",max:x()().format("YYYY-MM-DD"),onChange:function(e){return l(e.target.value)}})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"To: "}),Object(n.jsx)("input",{type:"date",id:"start",name:"trip-start",value:b,min:"2000-01-01",max:x()().format("YYYY-MM-DD"),onChange:function(e){return h(e.target.value)}})]})]})]})]}),Object(n.jsxs)("div",{className:"home-all-invoice default-title",children:[Object(n.jsx)("div",{className:"invoice-name",children:"Invoice Name"}),Object(n.jsx)("div",{className:"invoice-date",children:"Invoice Date"}),Object(n.jsx)("div",{className:"invoice-amount",children:"Invoice Amount"})]}),c.length>0?c.map((function(e){if(console.log("invoice ".concat("PENDING"===e.status," |date ").concat(x()(e.date).isAfter(o)||x()(e.date).isBefore(b)||x()(e.date).isSame(o)||x()(e.date).isSame(b)," | moment = ").concat(x()(e.date).isBetween(o,x()(b).add(1,"d").format("YYYY-MM-DD"),void 0,"[]"))),"PENDING"===e.status&&x()(e.date).isBetween(o,x()(b).add(1,"d").format("YYYY-MM-DD"),void 0,"[]"))return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{onClick:function(){!function(e){console.log("clicked ".concat(e._id)),Y(""===N?e._id:"")}(e)},className:"home-all-invoice",children:[Object(n.jsx)("div",{className:"invoice-name",children:e.name}),Object(n.jsx)("div",{className:"invoice-date",children:x()(e.date).format("DD-MM-YY")}),Object(n.jsx)("div",{className:"invoice-amount",children:e.amount}),(t=e.amount,void(t&&(I+=Number(t))))]},e._id),N===e._id?Object(n.jsx)("div",{className:"home-all-invoice",children:Object(n.jsx)(g,{invoiceID:e._id})}):Object(n.jsx)("div",{})]});var t})):Object(n.jsx)("div",{}),Object(n.jsxs)("div",{className:"home-all-invoice default-footer",children:[Object(n.jsx)("div",{children:"Total Amount"}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{children:I})]})]})}function D(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],i=t[1],s=Object(a.useState)(x()("2000-01-01").format("YYYY-MM-DD")),r=Object(u.a)(s,2),o=r[0],l=r[1],d=Object(a.useState)(x()().format("YYYY-MM-DD")),m=Object(u.a)(d,2),b=m[0],h=m[1],f=Object(a.useState)(0),p=Object(u.a)(f,2);p[0],p[1];function N(){return(N=Object(O.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/invoice/viewInvoices");case 2:(t=e.sent)&&(i(t.data),console.log(t.data));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){!function(){N.apply(this,arguments)}()}),[]);var g=0;return console.log(g),Object(n.jsxs)("div",{className:"invoice-box",children:[Object(n.jsx)("div",{className:"invoice-titles",children:"APPROVED INVOICES"}),Object(n.jsxs)("div",{className:"home-number-invoices",children:[Object(n.jsx)("div",{children:"Total number of invoices: ".concat(c.length>0?c.filter((function(e){return"APPROVED"===e.status&&x()(e.date).isBetween(o,x()(b).add(1,"d").format("YYYY-MM-DD"),void 0,"[]")})).length:0)}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"Filter"}),Object(n.jsxs)("div",{className:"filter-to-from",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"From: "}),Object(n.jsx)("input",{type:"date",id:"start",name:"trip-start",value:o,min:"2000-01-01",max:x()().format("YYYY-MM-DD"),onChange:function(e){return l(e.target.value)}})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"To: "}),Object(n.jsx)("input",{type:"date",id:"start",name:"trip-start",value:b,min:"2000-01-01",max:x()().format("YYYY-MM-DD"),onChange:function(e){return h(e.target.value)}})]})]})]})]}),Object(n.jsxs)("div",{className:"home-all-invoice default-title",children:[Object(n.jsx)("div",{className:"invoice-user",children:"Invoice User"}),Object(n.jsx)("div",{className:"invoice-name",children:"Invoice Name"}),Object(n.jsx)("div",{className:"invoice-date",children:"Invoice Date"}),Object(n.jsx)("div",{className:"invoice-amount",children:"Invoice Amount"})]}),c.length>0?c.map((function(e){if("APPROVED"===e.status&&x()(e.date).isBetween(o,x()(b).add(1,"d").format("YYYY-MM-DD"),void 0,"[]"))return Object(n.jsxs)("div",{onClick:function(){console.log("clicked ".concat(e._id))},className:"home-all-invoice",children:[Object(n.jsx)("div",{className:"invoice-user",children:e.user}),Object(n.jsx)("div",{className:"invoice-name",children:e.name}),Object(n.jsx)("div",{className:"invoice-date",children:x()(e.date).format("DD-MM-YY")}),Object(n.jsx)("div",{className:"invoice-amount",children:e.amount}),(t=e.amount,void(t&&(g+=Number(t))))]},e._id);var t})):Object(n.jsx)("div",{}),Object(n.jsxs)("div",{className:"home-all-invoice default-footer",children:[Object(n.jsx)("div",{children:"Total Amount"}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{children:g})]})]})}function I(e){var t=e.invoiceID,c=Object(l.f)(),a=function(){var e=Object(O.a)(v.a.mark((function e(){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("authToken"),e.next=3,j.a.post("/invoice/approveInvoice",{invoiceID:t},{headers:{Authorization:"Bearer ".concat(n)}});case 3:(a=e.sent)&&(console.log(a),c.go(0)),console.log("approve");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(O.a)(v.a.mark((function e(){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("authToken"),e.next=3,j.a.post("/invoice/rejectInvoice",{invoiceID:t},{headers:{Authorization:"Bearer ".concat(n)}});case 3:(a=e.sent)&&(console.log(a),c.go(0)),console.log("reject");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"invoice-option-box",children:Object(n.jsx)("div",{className:"option-sub-box ",children:Object(n.jsxs)("div",{className:"login-form",children:[Object(n.jsx)("div",{className:"title ",children:"Options"}),Object(n.jsxs)("div",{className:"admin-option",children:[Object(n.jsx)("div",{children:Object(n.jsx)("button",{className:"button-style botton-style-dark light-green",onClick:function(){return a()},children:"Approve"})}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{className:"button-style botton-style-dark",onClick:function(){return i()},children:"Reject"})})]})]})})})}function w(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],i=t[1],s=Object(a.useState)(x()("2000-01-01").format("YYYY-MM-DD")),r=Object(u.a)(s,2),o=r[0],l=r[1],d=Object(a.useState)(x()().format("YYYY-MM-DD")),m=Object(u.a)(d,2),b=m[0],h=m[1],f=Object(a.useState)(""),p=Object(u.a)(f,2),N=p[0],g=p[1];function Y(){return(Y=Object(O.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/invoice/viewInvoices");case 2:(t=e.sent)&&(i(t.data),console.log(t.data));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){!function(){Y.apply(this,arguments)}()}),[]);var D=0;return Object(n.jsxs)("div",{className:"invoice-box",children:[Object(n.jsx)("div",{className:"invoice-titles",children:"PENDING INVOICES"}),Object(n.jsxs)("div",{className:"home-number-invoices",children:[Object(n.jsx)("div",{children:"Total number of invoices: ".concat(c.length>0?c.filter((function(e){return"PENDING"===e.status&&x()(e.date).isBetween(o,x()(b).add(1,"d").format("YYYY-MM-DD"),void 0,"[]")})).length:0)}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"Filter"}),Object(n.jsxs)("div",{className:"filter-to-from",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"From: "}),Object(n.jsx)("input",{type:"date",id:"start",name:"trip-start",value:o,min:"2000-01-01",max:x()().format("YYYY-MM-DD"),onChange:function(e){return l(e.target.value)}})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"To: "}),Object(n.jsx)("input",{type:"date",id:"start",name:"trip-start",value:b,min:"2000-01-01",max:x()().format("YYYY-MM-DD"),onChange:function(e){return h(e.target.value)}})]})]})]})]}),Object(n.jsxs)("div",{className:"home-all-invoice default-title",children:[Object(n.jsx)("div",{className:"invoice-user",children:"Invoice User"}),Object(n.jsx)("div",{className:"invoice-name",children:"Invoice Name"}),Object(n.jsx)("div",{className:"invoice-date",children:"Invoice Date"}),Object(n.jsx)("div",{className:"invoice-amount",children:"Invoice Amount"})]}),c.length>0?c.map((function(e){if("PENDING"===e.status&&x()(e.date).isBetween(o,x()(b).add(1,"d").format("YYYY-MM-DD"),void 0,"[]"))return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{onClick:function(){!function(e){console.log("clicked ".concat(e._id)),g(""===N?e._id:"")}(e)},className:"home-all-invoice",children:[Object(n.jsx)("div",{className:"invoice-user",children:e.user}),Object(n.jsx)("div",{className:"invoice-name",children:e.name}),Object(n.jsx)("div",{className:"invoice-date",children:x()(e.date).format("DD-MM-YY")}),Object(n.jsx)("div",{className:"invoice-amount",children:e.amount}),N===e._id?Object(n.jsx)("div",{className:"extend-collapse",children:"-"}):Object(n.jsx)("div",{className:"extend-collapse",children:"+"}),(t=e.amount,void(t&&(D+=Number(t))))]},e._id),N===e._id?Object(n.jsx)("div",{className:"home-all-invoice admin-option-wide",children:Object(n.jsx)(I,{invoiceID:e._id})}):Object(n.jsx)("div",{})]},e._id);var t})):Object(n.jsx)("div",{}),Object(n.jsxs)("div",{className:"home-all-invoice default-footer",children:[Object(n.jsx)("div",{children:"Total Amount"}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{children:D})]})]})}var y=function(){var e=Object(a.useState)({}),t=Object(u.a)(e,2),c=t[0],i=t[1],s=Object(a.useState)(!1),r=Object(u.a)(s,2),o=r[0],d=r[1],j=Object(l.f)();return Object(a.useEffect)((function(){null!=localStorage.getItem("authToken")&&i(Object(m.a)(localStorage.getItem("authToken")))}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"home-box",children:[Object(n.jsxs)("div",{className:"home-title",children:[Object(n.jsxs)("div",{className:"home-username",children:[Object(n.jsx)("div",{className:"home-username-ele",children:"User: ".concat(c.email)}),Object(n.jsx)("div",{className:"home-username-ele",children:" Id: ".concat(c.id)})]}),Object(n.jsxs)("div",{className:"home-logout",children:[Object(n.jsx)("button",{className:"button-style",onClick:function(){return d(!o)},children:o?"Invoices":"Pending"}),Object(n.jsx)("button",{className:"button-style botton-style-dark ",onClick:function(){return localStorage.removeItem("authToken"),void j.push("/")},children:"Logout"})]})]}),"admin@gmail.com"===c.email?Object(n.jsx)("div",{className:"home-body",children:o?Object(n.jsx)(w,{}):Object(n.jsx)(D,{})}):Object(n.jsx)("div",{className:"home-body",children:o?Object(n.jsx)(Y,{}):Object(n.jsx)(N,{})})]}),Object(n.jsx)("div",{className:"add-invoice"})]})};function M(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),c=t[0],i=t[1],s=Object(l.f)(),r=Object(f.a)(),o=r.register,d=r.handleSubmit,m=(r.watch,r.errors),b=function(){var e=Object(O.a)(v.a.mark((function e(t){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/users/login",t);case 2:(c=e.sent)&&(c.data.token?(localStorage.setItem("authToken",c.data.token),s.push("/Home")):i(c.data.errors.user));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"login-form",children:[Object(n.jsx)("div",{className:"title",children:"Login"}),Object(n.jsxs)("form",{onSubmit:d(b),children:[Object(n.jsxs)("div",{className:"login-form-element",children:[Object(n.jsx)("label",{children:"Email"}),Object(n.jsx)("input",{name:"email",ref:o({required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"invalid email address"}})}),m.email&&"required"===m.email.type&&Object(n.jsx)("div",{className:"form-error",children:"*Email is required"}),m.email&&"pattern"===m.email.type&&Object(n.jsx)("div",{className:"form-error",children:"*Invalid email"})]}),Object(n.jsxs)("div",{className:"login-form-element",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{name:"password",type:"password",ref:o({required:!0})}),m.password&&Object(n.jsx)("div",{className:"form-error",children:"*Password is required"})]}),Object(n.jsx)("div",{className:"login-form-element",children:Object(n.jsx)("div",{className:"form-error",children:c})}),Object(n.jsx)("div",{className:"submit-button",children:Object(n.jsx)("button",{className:"button-style",type:"submit",children:"Login"})})]})]})}function k(){var e=Object(f.a)(),t=e.register,c=e.handleSubmit,i=e.watch,s=e.errors,r=Object(a.useState)(""),o=Object(u.a)(r,2),d=(o[0],o[1]),m=Object(l.f)(),b=function(){var e=Object(O.a)(v.a.mark((function e(t){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/users/register",t);case 2:(c=e.sent)&&(c.data.token?(localStorage.setItem("authToken",c.data.token),m.push("/Home")):(console.log(c.data.errors.user),d(c.data.errors.user)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){return i("password")===i("confirmPassword")};return Object(n.jsxs)("div",{className:"login-form",children:[Object(n.jsx)("div",{className:"title signup-title",children:"Signup"}),Object(n.jsxs)("form",{onSubmit:c(b),children:[Object(n.jsxs)("div",{className:"login-form-element",children:[Object(n.jsx)("label",{className:"signup-title",children:"Email"}),Object(n.jsx)("input",{name:"email",ref:t({required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"invalid email address"}})}),s.email&&"required"===s.email.type&&Object(n.jsx)("div",{className:"form-error signup-error",children:"*Email is required"}),s.email&&"pattern"===s.email.type&&Object(n.jsx)("div",{className:"form-error signup-error",children:"*Invalid email"})]}),Object(n.jsxs)("div",{className:"login-form-element",children:[Object(n.jsx)("label",{className:"signup-title",children:"Password"}),Object(n.jsx)("input",{name:"password",type:"password",ref:t({required:!0,validate:h})}),s.password&&"required"===s.password.type&&Object(n.jsx)("div",{className:"form-error signup-error",children:"*Password is required"}),s.password&&"validate"===s.password.type&&Object(n.jsx)("div",{className:"form-error signup-error",children:"*Password must be same"})]}),Object(n.jsxs)("div",{className:"login-form-element",children:[Object(n.jsx)("label",{className:"signup-title",children:"Confirm Password"}),Object(n.jsx)("input",{name:"confirmPassword",type:"password",ref:t({required:!0,validate:h})}),s.confirmPassword&&"required"===s.password.type&&Object(n.jsx)("div",{className:"form-error signup-error",children:"*Password is required"}),s.password&&"validate"===s.password.type&&Object(n.jsx)("div",{className:"form-error signup-error",children:"*Password must be same"})]}),Object(n.jsx)("div",{className:"submit-button",children:Object(n.jsx)("button",{className:"button-style botton-style-dark ",type:"submit",children:"Signup"})})]})]})}function S(){return Object(n.jsxs)("div",{className:"login-box",children:[Object(n.jsx)("div",{className:"login-sub-box",children:Object(n.jsx)(M,{})}),Object(n.jsx)("div",{className:"vertical-line"}),Object(n.jsx)("div",{className:"login-sub-box signup-box ",children:Object(n.jsx)(k,{})})]})}c(21),c(37);var A=function(){return Object(n.jsx)(o.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("div",{className:"header-navbar",children:Object(n.jsx)("div",{className:"app-title",children:"Invoice Tracker"})}),Object(n.jsx)(l.b,{exact:!0,path:"/",component:S}),Object(n.jsx)(l.b,{exact:!0,path:"/Home",children:Object(n.jsx)(y,{})})]})})},P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(A,{})}),document.getElementById("root")),P()}},[[70,1,2]]]);
//# sourceMappingURL=main.37758ca2.chunk.js.map