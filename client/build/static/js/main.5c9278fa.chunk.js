(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(1),i=c.n(n),s=c(35),r=c.n(s),o=(c(43),c.p,c(44),c(14)),l=c(7),d=c(6),j=c.n(d),m=c(15),u=c(4),b=c(3),v=c.n(b),O=c(5),h=c(2),x=c.n(h),f=c(16);function p(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],i=(t[1],Object(l.f)()),s=Object(f.a)(),r=s.register,o=s.handleSubmit,d=(s.watch,s.errors),m=function(){var e=Object(O.a)(v.a.mark((function e(t){var c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return console.log(t),c=localStorage.getItem("authToken"),e.next=5,j.a.post("/invoice/createInvoice",t,{headers:{Authorization:"Bearer ".concat(c)}});case 5:(a=e.sent)&&(console.log(a),i.go(0));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"create-invoice",children:Object(a.jsxs)("div",{className:"login-form",children:[Object(a.jsx)("div",{className:"title",children:"Add Invoice"}),Object(a.jsxs)("form",{onSubmit:o(m),children:[Object(a.jsxs)("div",{className:"login-form-element",children:[Object(a.jsx)("label",{children:"Name"}),Object(a.jsx)("input",{name:"name",ref:r({required:!0})}),d.name&&"required"===d.name.type&&Object(a.jsx)("div",{className:"form-error",children:"*Name is required"})]}),Object(a.jsxs)("div",{className:"login-form-element",children:[Object(a.jsx)("label",{children:"Amount"}),Object(a.jsx)("input",{name:"amount",type:"number",ref:r({required:!0})}),d.amount&&"required"===d.amount.type&&Object(a.jsx)("div",{className:"form-error",children:"*Amount is required"})]}),Object(a.jsxs)("div",{className:"login-form-element",children:[Object(a.jsx)("label",{children:"Image"}),Object(a.jsx)("input",{name:"imageFile",ref:r({required:!0})}),d.imageFile&&"required"===d.imageFile.type&&Object(a.jsx)("div",{className:"form-error",children:"*Image is required"})]}),Object(a.jsx)("div",{className:"login-form-element",children:Object(a.jsx)("div",{className:"form-error",children:c})}),Object(a.jsx)("div",{className:"submit-button",children:Object(a.jsx)("button",{className:"button-style",type:"submit",children:"Create"})})]})]})})}function N(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],i=t[1],s=Object(n.useState)(!1),r=Object(u.a)(s,2),o=r[0],l=r[1],d=Object(n.useState)(x()("2000-01-01").format("YYYY-MM-DD")),m=Object(u.a)(d,2),b=m[0],h=m[1],f=Object(n.useState)(x()().format("YYYY-MM-DD")),N=Object(u.a)(f,2),g=N[0],Y=N[1],D=Object(n.useState)(!1),I=Object(u.a)(D,2),y=I[0],w=I[1];function M(){return(M=Object(O.a)(v.a.mark((function e(){var t,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),(t=localStorage.getItem("authToken"))&&console.log("token"),e.next=5,j.a.post("/invoice/viewInvoice",{},{headers:{Authorization:"Bearer ".concat(t)}});case 5:return(c=e.sent)&&(l(!1),i(c.data),console.log(c.data)),e.abrupt("return",l(!1));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){M.apply(this,arguments)}()}),[]);console.log(g),console.log(b),x()("2016-10-30").isBetween(b,g)&&console.log("working");var S=0;return Object(a.jsxs)("div",{children:[y?Object(a.jsx)(p,{}):Object(a.jsxs)("div",{className:"invoice-box",children:[Object(a.jsx)("div",{className:"invoice-titles",children:"APPROVED INVOICES"}),Object(a.jsxs)("div",{className:"home-number-invoices",children:[Object(a.jsx)("div",{children:"Total number of invoices: ".concat(c.length>0?c.filter((function(e){return"APPROVED"===e.status&&x()(e.date).isBetween(b,x()(g).add(1,"d").format("YYYY-MM-DD"),void 0,"[]")})).length:0)}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Filter"}),Object(a.jsxs)("div",{className:"filter-to-from",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"From: "}),Object(a.jsx)("input",{type:"date",id:"start",name:"trip-start",value:b,min:"2000-01-01",max:x()().format("YYYY-MM-DD"),onChange:function(e){return h(e.target.value)}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"To: "}),Object(a.jsx)("input",{type:"date",id:"start",name:"trip-start",value:g,min:"2000-01-01",max:x()().format("YYYY-MM-DD"),onChange:function(e){return Y(e.target.value)}})]})]})]})]}),Object(a.jsxs)("div",{className:"home-all-invoice default-title",children:[Object(a.jsx)("div",{className:"invoice-name",children:"Invoice Name"}),Object(a.jsx)("div",{className:"invoice-date",children:"Invoice Date"}),Object(a.jsx)("div",{className:"invoice-amount",children:"Invoice Amount"})]}),o?Object(a.jsx)("div",{className:"loader-div",children:Object(a.jsx)("div",{className:"loader-invoice"})}):c.length>0?c.map((function(e){if("APPROVED"===e.status&&x()(e.date).isBetween(b,x()(g).add(1,"d").format("YYYY-MM-DD"),void 0,"[]"))return Object(a.jsxs)("div",{onClick:function(){console.log("clicked ".concat(e._id))},className:"home-all-invoice",children:[Object(a.jsx)("div",{className:"invoice-name",children:e.name}),Object(a.jsx)("div",{className:"invoice-date",children:x()(e.date).format("DD-MM-YY")}),Object(a.jsx)("div",{className:"invoice-amount",children:e.amount}),(t=e.amount,void(t&&(S+=Number(t))))]},e._id);var t})):Object(a.jsx)("div",{className:"empty-invoices",children:"Empty Approved Invoices !!"}),Object(a.jsxs)("div",{className:"home-all-invoice default-footer",children:[Object(a.jsx)("div",{children:"Total Amount"}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:S})]})]}),Object(a.jsx)("div",{className:"float-add-button",onClick:function(){return w(!y)},children:y?"Cancel":"Add"})]})}c(69);function g(e){var t=e.invoiceID,c=Object(f.a)(),n=c.register,i=c.handleSubmit,s=(c.watch,c.errors),r=Object(l.f)(),o=function(){var e=Object(O.a)(v.a.mark((function e(c){var a,n,i,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(c),c=={}){e.next=11;break}for(n in a={},c)""!=c[n]&&(a[n]=c[n]);return console.log(a),console.log({invoiceID:t,updateObj:a}),i=localStorage.getItem("authToken"),e.next=9,j.a.post("/invoice/updateInvoice",{invoiceID:t,updateObj:a},{headers:{Authorization:"Bearer ".concat(i)}});case 9:(s=e.sent)&&(console.log(s),r.go(0));case 11:console.log(t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(O.a)(v.a.mark((function e(){var c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=localStorage.getItem("authToken"),e.next=3,j.a.post("/invoice/deleteInvoice",{invoiceID:t},{headers:{Authorization:"Bearer ".concat(c)}});case 3:(a=e.sent)&&(console.log(a),r.go(0)),console.log("delete");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"invoice-option-box",children:Object(a.jsxs)("div",{className:"option-sub-box ",children:[Object(a.jsxs)("div",{className:"login-form option-size",children:[Object(a.jsx)("div",{className:"title ",children:"Update"}),Object(a.jsxs)("form",{onSubmit:i(o),children:[Object(a.jsx)("div",{className:"login-form-element",children:Object(a.jsx)("label",{children:"*Only enter data that need to be changed"})}),Object(a.jsxs)("div",{className:"login-form-element",children:[Object(a.jsx)("label",{className:"",children:"Name"}),Object(a.jsx)("input",{name:"name",ref:n({validate:function(e){return"string"===typeof e}})}),s.name&&"validate"===s.name.type&&Object(a.jsx)("div",{className:"form-error signup-error",children:"*name must be string"})]}),Object(a.jsxs)("div",{className:"login-form-element",children:[Object(a.jsx)("label",{className:"",children:"Amount"}),Object(a.jsx)("input",{type:"number",name:"amount",ref:n({})})]}),Object(a.jsxs)("div",{className:"login-form-element",children:[Object(a.jsx)("label",{className:"",children:"Image"}),Object(a.jsx)("input",{name:"image",ref:n({})})]}),Object(a.jsx)("div",{className:"login-form-element",children:Object(a.jsx)("div",{className:"option-buttons-box",children:Object(a.jsx)("div",{className:"submit-button ",children:Object(a.jsx)("button",{className:"button-style",type:"submit",children:"Update"})})})})]})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:"delete-invoice button-style botton-style-dark",onClick:function(){return d()},children:"Delete"})})]})})}function Y(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],i=t[1],s=Object(n.useState)(!1),r=Object(u.a)(s,2),o=r[0],l=r[1],d=Object(n.useState)(x()("2000-01-01").format("YYYY-MM-DD")),m=Object(u.a)(d,2),b=m[0],h=m[1],f=Object(n.useState)(x()().format("YYYY-MM-DD")),p=Object(u.a)(f,2),N=p[0],Y=p[1],D=Object(n.useState)(""),I=Object(u.a)(D,2),y=I[0],w=I[1];function M(){return(M=Object(O.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),(t=localStorage.getItem("authToken"))&&console.log("token"),e.next=5,j.a.post("/invoice/viewInvoice",{},{headers:{Authorization:"Bearer ".concat(t)}});case 5:return(a=e.sent)&&(l(!1),i(a.data),console.log(c)),e.abrupt("return",l(!1));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){M.apply(this,arguments)}()}),[]),console.log(x()(N).add(1,"d").format("YYYY-MM-DD"));var S=0;return Object(a.jsxs)("div",{className:"invoice-box",children:[Object(a.jsx)("div",{className:"invoice-titles",children:"PENDING INVOICES"}),Object(a.jsxs)("div",{className:"home-number-invoices",children:[Object(a.jsx)("div",{children:"Total number of invoices: ".concat(c.length>0?c.filter((function(e){return"PENDING"===e.status&&x()(e.date).isBetween(b,x()(N).add(1,"d").format("YYYY-MM-DD"),void 0,"[]")})).length:0)}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Filter"}),Object(a.jsxs)("div",{className:"filter-to-from",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"From: "}),Object(a.jsx)("input",{type:"date",id:"start",name:"trip-start",value:b,min:"2000-01-01",max:x()().format("YYYY-MM-DD"),onChange:function(e){return h(e.target.value)}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"To: "}),Object(a.jsx)("input",{type:"date",id:"start",name:"trip-start",value:N,min:"2000-01-01",max:x()().format("YYYY-MM-DD"),onChange:function(e){return Y(e.target.value)}})]})]})]})]}),Object(a.jsxs)("div",{className:"home-all-invoice default-title",children:[Object(a.jsx)("div",{className:"invoice-name",children:"Invoice Name"}),Object(a.jsx)("div",{className:"invoice-date",children:"Invoice Date"}),Object(a.jsx)("div",{className:"invoice-amount",children:"Invoice Amount"})]}),o?Object(a.jsx)("div",{className:"loader-div",children:Object(a.jsx)("div",{className:"loader-invoice"})}):c.length>0?c.map((function(e){if(console.log("invoice ".concat("PENDING"===e.status," |date ").concat(x()(e.date).isAfter(b)||x()(e.date).isBefore(N)||x()(e.date).isSame(b)||x()(e.date).isSame(N)," | moment = ").concat(x()(e.date).isBetween(b,x()(N).add(1,"d").format("YYYY-MM-DD"),void 0,"[]"))),"PENDING"===e.status&&x()(e.date).isBetween(b,x()(N).add(1,"d").format("YYYY-MM-DD"),void 0,"[]"))return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{onClick:function(){!function(e){console.log("clicked ".concat(e._id)),w(""===y?e._id:"")}(e)},className:"home-all-invoice",children:[Object(a.jsx)("div",{className:"invoice-name",children:e.name}),Object(a.jsx)("div",{className:"invoice-date",children:x()(e.date).format("DD-MM-YY")}),Object(a.jsx)("div",{className:"invoice-amount",children:e.amount}),(t=e.amount,void(t&&(S+=Number(t))))]},e._id),y===e._id?Object(a.jsx)("div",{className:"home-all-invoice",children:Object(a.jsx)(g,{invoiceID:e._id})}):Object(a.jsx)("div",{})]});var t})):Object(a.jsx)("div",{className:"empty-invoices",children:"Empty Pending Invoices !!"}),Object(a.jsxs)("div",{className:"home-all-invoice default-footer",children:[Object(a.jsx)("div",{children:"Total Amount"}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:S})]})]})}function D(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],i=t[1],s=Object(n.useState)(!1),r=Object(u.a)(s,2),o=r[0],l=r[1],d=Object(n.useState)(x()("2000-01-01").format("YYYY-MM-DD")),m=Object(u.a)(d,2),b=m[0],h=m[1],f=Object(n.useState)(x()().format("YYYY-MM-DD")),p=Object(u.a)(f,2),N=p[0],g=p[1],Y=Object(n.useState)(0),D=Object(u.a)(Y,2);D[0],D[1];function I(){return(I=Object(O.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,j.a.get("/invoice/viewInvoices");case 3:return(t=e.sent)&&(l(!1),i(t.data),console.log(t.data)),e.abrupt("return",l(!1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){I.apply(this,arguments)}()}),[]);var y=0;return console.log(y),Object(a.jsxs)("div",{className:"invoice-box",children:[Object(a.jsx)("div",{className:"invoice-titles",children:"APPROVED INVOICES"}),Object(a.jsxs)("div",{className:"home-number-invoices",children:[Object(a.jsx)("div",{children:"Total number of invoices: ".concat(c.length>0?c.filter((function(e){return"APPROVED"===e.status&&x()(e.date).isBetween(b,x()(N).add(1,"d").format("YYYY-MM-DD"),void 0,"[]")})).length:0)}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Filter"}),Object(a.jsxs)("div",{className:"filter-to-from",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"From: "}),Object(a.jsx)("input",{type:"date",id:"start",name:"trip-start",value:b,min:"2000-01-01",max:x()().format("YYYY-MM-DD"),onChange:function(e){return h(e.target.value)}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"To: "}),Object(a.jsx)("input",{type:"date",id:"start",name:"trip-start",value:N,min:"2000-01-01",max:x()().format("YYYY-MM-DD"),onChange:function(e){return g(e.target.value)}})]})]})]})]}),Object(a.jsxs)("div",{className:"home-all-invoice default-title",children:[Object(a.jsx)("div",{className:"invoice-user",children:"Invoice User"}),Object(a.jsx)("div",{className:"invoice-name",children:"Invoice Name"}),Object(a.jsx)("div",{className:"invoice-date",children:"Invoice Date"}),Object(a.jsx)("div",{className:"invoice-amount",children:"Invoice Amount"})]}),o?Object(a.jsx)("div",{className:"loader-div",children:Object(a.jsx)("div",{className:"loader-invoice"})}):c.length>0?c.map((function(e){if("APPROVED"===e.status&&x()(e.date).isBetween(b,x()(N).add(1,"d").format("YYYY-MM-DD"),void 0,"[]"))return Object(a.jsxs)("div",{onClick:function(){console.log("clicked ".concat(e._id))},className:"home-all-invoice",children:[Object(a.jsx)("div",{className:"invoice-user",children:e.user}),Object(a.jsx)("div",{className:"invoice-name",children:e.name}),Object(a.jsx)("div",{className:"invoice-date",children:x()(e.date).format("DD-MM-YY")}),Object(a.jsx)("div",{className:"invoice-amount",children:e.amount}),(t=e.amount,void(t&&(y+=Number(t))))]},e._id);var t})):Object(a.jsx)("div",{className:"empty-invoices",children:"Empty Approved Invoices !!"}),Object(a.jsxs)("div",{className:"home-all-invoice default-footer",children:[Object(a.jsx)("div",{children:"Total Amount"}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:y})]})]})}function I(e){var t=e.invoiceID,c=Object(l.f)(),n=function(){var e=Object(O.a)(v.a.mark((function e(){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("authToken"),e.next=3,j.a.post("/invoice/approveInvoice",{invoiceID:t},{headers:{Authorization:"Bearer ".concat(a)}});case 3:(n=e.sent)&&(console.log(n),c.go(0)),console.log("approve");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(O.a)(v.a.mark((function e(){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("authToken"),e.next=3,j.a.post("/invoice/rejectInvoice",{invoiceID:t},{headers:{Authorization:"Bearer ".concat(a)}});case 3:(n=e.sent)&&(console.log(n),c.go(0)),console.log("reject");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"invoice-option-box",children:Object(a.jsx)("div",{className:"option-sub-box ",children:Object(a.jsxs)("div",{className:"login-form",children:[Object(a.jsx)("div",{className:"title ",children:"Options"}),Object(a.jsxs)("div",{className:"admin-option",children:[Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:"button-style botton-style-dark light-green",onClick:function(){return n()},children:"Approve"})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:"button-style botton-style-dark",onClick:function(){return i()},children:"Reject"})})]})]})})})}function y(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],i=t[1],s=Object(n.useState)(!1),r=Object(u.a)(s,2),o=r[0],l=r[1],d=Object(n.useState)(x()("2000-01-01").format("YYYY-MM-DD")),m=Object(u.a)(d,2),b=m[0],h=m[1],f=Object(n.useState)(x()().format("YYYY-MM-DD")),p=Object(u.a)(f,2),N=p[0],g=p[1],Y=Object(n.useState)(""),D=Object(u.a)(Y,2),y=D[0],w=D[1];function M(){return(M=Object(O.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,j.a.get("/invoice/viewInvoices");case 3:return(t=e.sent)&&(l(!1),i(t.data),console.log(t.data)),e.abrupt("return",l(!1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){M.apply(this,arguments)}()}),[]);var S=0;return Object(a.jsxs)("div",{className:"invoice-box",children:[Object(a.jsx)("div",{className:"invoice-titles",children:"PENDING INVOICES"}),Object(a.jsxs)("div",{className:"home-number-invoices",children:[Object(a.jsx)("div",{children:"Total number of invoices: ".concat(c.length>0?c.filter((function(e){return"PENDING"===e.status&&x()(e.date).isBetween(b,x()(N).add(1,"d").format("YYYY-MM-DD"),void 0,"[]")})).length:0)}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Filter"}),Object(a.jsxs)("div",{className:"filter-to-from",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"From: "}),Object(a.jsx)("input",{type:"date",id:"start",name:"trip-start",value:b,min:"2000-01-01",max:x()().format("YYYY-MM-DD"),onChange:function(e){return h(e.target.value)}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"To: "}),Object(a.jsx)("input",{type:"date",id:"start",name:"trip-start",value:N,min:"2000-01-01",max:x()().format("YYYY-MM-DD"),onChange:function(e){return g(e.target.value)}})]})]})]})]}),Object(a.jsxs)("div",{className:"home-all-invoice default-title",children:[Object(a.jsx)("div",{className:"invoice-user",children:"Invoice User"}),Object(a.jsx)("div",{className:"invoice-name",children:"Invoice Name"}),Object(a.jsx)("div",{className:"invoice-date",children:"Invoice Date"}),Object(a.jsx)("div",{className:"invoice-amount",children:"Invoice Amount"})]}),o?Object(a.jsx)("div",{className:"loader-div",children:Object(a.jsx)("div",{className:"loader-invoice"})}):c.length>0?c.map((function(e){if("PENDING"===e.status&&x()(e.date).isBetween(b,x()(N).add(1,"d").format("YYYY-MM-DD"),void 0,"[]"))return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{onClick:function(){!function(e){console.log("clicked ".concat(e._id)),w(""===y?e._id:"")}(e)},className:"home-all-invoice",children:[Object(a.jsx)("div",{className:"invoice-user",children:e.user}),Object(a.jsx)("div",{className:"invoice-name",children:e.name}),Object(a.jsx)("div",{className:"invoice-date",children:x()(e.date).format("DD-MM-YY")}),Object(a.jsx)("div",{className:"invoice-amount",children:e.amount}),y===e._id?Object(a.jsx)("div",{className:"extend-collapse",children:"-"}):Object(a.jsx)("div",{className:"extend-collapse",children:"+"}),(t=e.amount,void(t&&(S+=Number(t))))]},e._id),y===e._id?Object(a.jsx)("div",{className:"home-all-invoice admin-option-wide",children:Object(a.jsx)(I,{invoiceID:e._id})}):Object(a.jsx)("div",{})]},e._id);var t})):Object(a.jsx)("div",{className:"empty-invoices",children:"Empty Pending Invoices !!"}),Object(a.jsxs)("div",{className:"home-all-invoice default-footer",children:[Object(a.jsx)("div",{children:"Total Amount"}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:S})]})]})}var w=function(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),c=t[0],i=t[1],s=Object(n.useState)(!1),r=Object(u.a)(s,2),o=r[0],d=r[1],j=Object(l.f)();return Object(n.useEffect)((function(){null!=localStorage.getItem("authToken")&&i(Object(m.a)(localStorage.getItem("authToken")))}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"home-box",children:[Object(a.jsxs)("div",{className:"home-title",children:[Object(a.jsxs)("div",{className:"home-username",children:[Object(a.jsx)("div",{className:"home-username-ele",children:"User: ".concat(c.email)}),Object(a.jsx)("div",{className:"home-username-ele",children:" Id: ".concat(c.id)})]}),Object(a.jsxs)("div",{className:"home-logout",children:[Object(a.jsx)("button",{className:"button-style",onClick:function(){return d(!o)},children:o?"Invoices":"Pending"}),Object(a.jsx)("button",{className:"button-style botton-style-dark ",onClick:function(){return localStorage.removeItem("authToken"),void j.push("/")},children:"Logout"})]})]}),"admin@gmail.com"===c.email?Object(a.jsx)("div",{className:"home-body",children:o?Object(a.jsx)(y,{}):Object(a.jsx)(D,{})}):Object(a.jsx)("div",{className:"home-body",children:o?Object(a.jsx)(Y,{}):Object(a.jsx)(N,{})})]}),Object(a.jsx)("div",{className:"add-invoice"})]})};function M(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],i=t[1],s=Object(n.useState)(!1),r=Object(u.a)(s,2),o=r[0],d=r[1],m=Object(l.f)(),b=Object(f.a)(),h=b.register,x=b.handleSubmit,p=(b.watch,b.errors),N=function(){var e=Object(O.a)(v.a.mark((function e(t){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),console.log(o),e.next=4,j.a.post("/users/login",t);case 4:(c=e.sent)&&(d(!1),console.log(o),c.data.token?(localStorage.setItem("authToken",c.data.token),m.push("/Home")):i(c.data.errors.user));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"login-form",children:[Object(a.jsx)("div",{className:"title",children:"Login"}),o?Object(a.jsx)("div",{className:"loader-div",children:Object(a.jsx)("div",{className:"loader"})}):Object(a.jsxs)("form",{onSubmit:x(N),children:[Object(a.jsxs)("div",{className:"login-form-element",children:[Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)("input",{name:"email",ref:h({required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"invalid email address"}})}),p.email&&"required"===p.email.type&&Object(a.jsx)("div",{className:"form-error",children:"*Email is required"}),p.email&&"pattern"===p.email.type&&Object(a.jsx)("div",{className:"form-error",children:"*Invalid email"})]}),Object(a.jsxs)("div",{className:"login-form-element",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)("input",{name:"password",type:"password",ref:h({required:!0})}),p.password&&Object(a.jsx)("div",{className:"form-error",children:"*Password is required"})]}),Object(a.jsx)("div",{className:"login-form-element",children:Object(a.jsx)("div",{className:"form-error",children:c})}),Object(a.jsx)("div",{className:"submit-button",children:Object(a.jsx)("button",{className:"button-style",type:"submit",children:"Login"})})]})]})}function S(){var e=Object(f.a)(),t=e.register,c=e.handleSubmit,i=e.watch,s=e.errors,r=Object(n.useState)(!1),o=Object(u.a)(r,2),d=o[0],m=o[1],b=Object(n.useState)(""),h=Object(u.a)(b,2),x=h[0],p=h[1],N=Object(l.f)(),g=function(){var e=Object(O.a)(v.a.mark((function e(t){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,j.a.post("/users/register",t);case 3:(c=e.sent)&&(m(!1),c.data.token?(localStorage.setItem("authToken",c.data.token),N.push("/Home")):(console.log(c.data.errors.user),p(c.data.errors.user),console.log(x)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){return i("password")===i("confirmPassword")};return Object(a.jsxs)("div",{className:"login-form",children:[Object(a.jsx)("div",{className:"title signup-title",children:"Signup"}),d?Object(a.jsx)("div",{className:"loader-div",children:Object(a.jsx)("div",{className:"loader"})}):Object(a.jsxs)("form",{onSubmit:c(g),children:[Object(a.jsxs)("div",{className:"login-form-element",children:[Object(a.jsx)("label",{className:"signup-title",children:"Email"}),Object(a.jsx)("input",{name:"email",ref:t({required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"invalid email address"}})}),s.email&&"required"===s.email.type&&Object(a.jsx)("div",{className:"form-error signup-error",children:"*Email is required"}),s.email&&"pattern"===s.email.type&&Object(a.jsx)("div",{className:"form-error signup-error",children:"*Invalid email"})]}),Object(a.jsxs)("div",{className:"login-form-element",children:[Object(a.jsx)("label",{className:"signup-title",children:"Password"}),Object(a.jsx)("input",{name:"password",type:"password",ref:t({required:!0,validate:Y})}),s.password&&"required"===s.password.type&&Object(a.jsx)("div",{className:"form-error signup-error",children:"*Password is required"}),s.password&&"validate"===s.password.type&&Object(a.jsx)("div",{className:"form-error signup-error",children:"*Password must be same"})]}),Object(a.jsxs)("div",{className:"login-form-element",children:[Object(a.jsx)("label",{className:"signup-title",children:"Confirm Password"}),Object(a.jsx)("input",{name:"confirmPassword",type:"password",ref:t({required:!0,validate:Y})}),s.confirmPassword&&"required"===s.password.type&&Object(a.jsx)("div",{className:"form-error signup-error",children:"*Password is required"}),s.password&&"validate"===s.password.type&&Object(a.jsx)("div",{className:"form-error signup-error",children:"*Password must be same"})]}),Object(a.jsx)("div",{className:"submit-button",children:Object(a.jsx)("button",{className:"button-style botton-style-dark ",type:"submit",children:"Signup"})}),Object(a.jsx)("div",{})]})]})}function k(){return Object(a.jsxs)("div",{className:"login-box",children:[Object(a.jsx)("div",{className:"login-sub-box",children:Object(a.jsx)(M,{})}),Object(a.jsx)("div",{className:"vertical-line"}),Object(a.jsx)("div",{className:"login-sub-box signup-box ",children:Object(a.jsx)(S,{})})]})}c(21),c(37);var A=function(){return Object(a.jsx)(o.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("div",{className:"header-navbar",children:Object(a.jsx)("div",{className:"app-title",children:"Invoice Tracker"})}),Object(a.jsx)(l.b,{exact:!0,path:"/",component:k}),Object(a.jsx)(l.b,{exact:!0,path:"/Home",children:Object(a.jsx)(w,{})})]})})},P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),i(e),s(e)}))};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(A,{})}),document.getElementById("root")),P()}},[[70,1,2]]]);
//# sourceMappingURL=main.5c9278fa.chunk.js.map